<?php
/* 作者：CoCO */
 goto mnqC3; YqOgO: zip_entry_close($zip_entry); uMh1S: goto W0lQ0; ixwGw: zip_close($zip); echo "\74\x64\x69\166\40\143\x6c\141\x73\163\75\x22\144\151\x73\x70\x6c\x61\171\x2d\x31\x20\146\167\55\x62\157\x6c\144\x20\164\145\x78\x74\x2d\x65\x6c\x65\x67\x61\156\143\x65\42\x3e\xa\40\40\x20\x20\x20\40\x20\40\x20\40\x20\40\x20\40\40\40\x20\40\74\151\40\x63\x6c\141\163\x73\75\42\x66\x61\x20\146\x61\55\x64\141\164\141\x62\x61\x73\x65\40\157\x70\141\x63\151\x74\171\55\65\x30\40\155\x65\x2d\61\42\x3e\74\x2f\x69\76\40\x53\x75\x63\143\x65\163\163\12\40\40\x20\x20\x20\x20\x20\40\x20\40\40\40\x20\40\x3c\x2f\x64\151\x76\x3e\xa\40\x20\40\40\40\x20\40\40\x20\40\x20\40\x20\x20\x3c\150\61\40\x63\x6c\x61\x73\x73\75\42\x66\x77\55\142\x6f\154\144\40\155\x74\55\x35\x20\155\142\55\x32\x22\76\347\xb3\273\xe7\273\237\xe6\x9b\264\xe6\x96\xb0\xe6\210\220\345\212\x9f\74\x2f\150\x31\x3e\xa\40\x20\40\40\x20\x20\x20\40\40\x20\x20\40\x20\x20\x3c\142\162\57\76\xa\x20\40\x20\x20\x20\x20\40\40\x20\x20\x20\x20\x20\40\x3c\x61\40\x63\154\141\x73\163\x3d\x22\x62\x74\x6e\x20\142\x74\x6e\x2d\x6c\147\40\142\x74\x6e\x2d\141\x6c\x74\55\x73\145\143\157\156\x64\x61\162\x79\42\40\150\x72\x65\146\x3d\x22\57\101\x64\x6d\151\156\57\165\160\144\141\164\x65\x2e\x70\150\160\x22\x3e\12\x20\40\40\x20\x20\40\x20\x20\x20\40\x20\40\x20\x20\40\x20\x20\40\74\x69\40\143\x6c\141\163\163\x3d\42\x66\141\40\x66\x61\x2d\141\x72\162\x6f\167\55\154\145\x66\x74\40\157\x70\x61\143\x69\x74\x79\55\x35\x30\x20\x6d\145\55\61\x22\x3e\x3c\57\x69\76\40\74\142\76\347\xab\213\xe5\215\xb3\350\277\224\xe5\233\236\x3c\57\142\76\xa\x20\x20\x20\40\40\x20\40\40\x20\40\x20\x20\40\40\74\57\141\76"; AsUSq: goto aOMQ1; h8me7: $zip->extractTo("\56\56\57"); goto lsASM; cg9NE: bfH8V: $add = "\74\150\64\40\x63\154\141\163\163\75\x22\146\x77\55\142\x6f\x6c\144\40\155\164\x2d\65\40\155\142\x2d\62\x22\x3e\xe6\x95\260\346\x8d\xae\xe5\272\223\346\x9b\xb4\346\226\260\357\xbc\x9a\123\x51\114\346\x88\220\xe5\212\237" . $t . "\xe5\x8f\xa5\x2f\xe5\xa4\xb1\xe8\xb4\245" . $e . "\xe5\217\xa5\xef\xbc\x81\x3c\x2f\150\x34\x3e"; echo $add; XhBNl: goto xKsJJ; mnqC3: $mod = "\141\144\x6d\x69\x6e"; include "\56\x2e\x2f\103\x6f\x6d\x6d\x6f\156\57\x43\x6f\x72\x65\137\142\x72\141\x69\156\x2e\x70\150\160"; if (!($adminData["\x61\144\155\151\x6e\x52\x61\x6e\153"] == 2)) { goto fmNin; } echo "\346\202\250\347\x9a\x84\xe8\xb4\xa6\345\217\xb7\346\xb2\xa1\xe6\x9c\x89\346\x9d\x83\xe9\231\220\xe4\xbd\xbf\347\x94\250\xe6\255\244\345\x8a\x9f\xe8\203\xbd"; exit; fmNin: $config = (include "\56\x2e\57\103\157\x6d\155\x6f\156\57\101\165\x74\150\x2e\x70\150\160"); echo "\x3c\41\144\157\x63\x74\x79\160\145\40\150\x74\155\154\x3e\xa\74\150\x74\x6d\154\40\154\141\x6e\147\75\x22\172\150\x2d\103\x6e\x22\76\12\74\150\145\141\x64\76\xa\40\x20\x3c\x6d\x65\x74\141\40\143\150\x61\162\x73\x65\x74\x3d\x22\x75\164\146\x2d\70\x22\76\12\40\40\74\155\x65\x74\141\x20\156\x61\x6d\x65\75\42\166\x69\x65\167\160\157\162\164\x22\x20\143\x6f\x6e\164\145\x6e\x74\75\42\167\x69\144\164\x68\x3d\144\145\x76\x69\143\145\55\x77\x69\x64\x74\x68\54\151\156\x69\x74\x69\141\x6c\55\x73\x63\x61\x6c\145\x3d\61\56\x30\x22\x3e\xa\40\40\x3c\164\151\x74\154\x65\x3e"; echo conf("\116\x61\x6d\x65"); echo "\x20\55\x20\xe7\xb3\273\347\xbb\x9f\xe6\x9b\xb4\346\226\260\74\x2f\x74\151\x74\154\145\x3e\12\x20\40\74\x6c\151\x6e\153\40\162\145\x6c\x3d\42\163\x68\x6f\162\x74\143\x75\x74\x20\151\x63\157\156\x22\40\150\x72\x65\146\x3d\42\56\56\x2f\x61\x73\x73\145\x74\163\57\x69\x6d\147\x2f\x66\141\x76\x69\143\x6f\x6e\56\160\156\x67\x22\76\12\40\x20\74\154\x69\x6e\x6b\x20\162\x65\x6c\x3d\42\141\160\160\x6c\145\55\x74\157\165\x63\x68\x2d\151\143\157\156\x22\40\x73\151\172\145\163\75\x22\x31\x38\60\170\61\x38\60\42\40\x68\x72\x65\146\75\42\56\56\x2f\141\163\163\x65\164\163\x2f\155\x65\x64\151\x61\x2f\146\x61\x76\151\143\157\x6e\x73\x2f\x61\160\160\154\x65\55\x74\x6f\165\x63\x68\x2d\151\143\157\156\55\61\x38\60\x78\61\70\x30\x2e\160\x6e\147\42\76\xa\x20\40\74\154\x69\x6e\153\x20\162\145\x6c\x3d\42\163\164\171\x6c\x65\163\150\145\145\164\x22\40\x69\144\75\42\x63\163\163\55\x6d\x61\x69\156\x22\40\150\x72\x65\146\75\42\56\56\x2f\x61\163\163\x65\164\163\57\141\x64\155\x69\156\57\x63\163\x73\57\143\x6f\x64\x65\x62\x61\x73\x65\56\x6d\151\x6e\55\65\56\x35\x2e\x63\x73\163\42\76\xa\40\40\74\163\x63\162\151\x70\164\x20\141\163\171\156\143\x20\163\162\143\x3d\42\150\164\164\160\x73\x3a\57\x2f\x77\167\x77\x2e\147\157\157\x67\x6c\x65\x74\141\147\155\141\x6e\141\x67\145\162\56\143\157\155\x2f\147\x74\x61\147\x2f\x6a\x73\x3f\151\144\75\107\55\71\x48\x51\104\x51\112\x4a\x59\x57\x37\42\76\74\57\x73\143\162\151\x70\x74\x3e\74\163\143\162\x69\x70\x74\x3e\167\x69\x6e\144\157\167\x2e\x64\141\x74\141\114\x61\171\145\162\x20\x3d\x20\167\x69\x6e\x64\x6f\167\56\144\141\x74\141\x4c\x61\x79\x65\x72\40\174\174\40\133\135\73\x66\165\x6e\x63\164\x69\157\156\40\147\164\x61\147\50\51\x7b\144\x61\164\141\114\x61\x79\145\x72\56\160\x75\163\150\50\x61\x72\147\165\155\x65\156\x74\x73\51\x3b\175\x67\x74\141\x67\x28\x27\152\163\47\x2c\x20\x6e\145\x77\x20\104\x61\164\145\x28\51\x29\73\147\164\141\147\x28\47\143\x6f\x6e\146\151\x67\47\x2c\x20\47\107\x2d\x39\110\x51\x44\x51\112\112\x59\127\67\x27\x29\x3b\x3c\57\x73\143\x72\x69\160\164\76\xa\74\x2f\150\145\x61\144\76\xa\x3c\142\x6f\144\171\76\12\40\40\40\x20\74\144\151\166\x20\151\x64\x3d\x22\x70\x61\x67\145\55\x63\x6f\156\164\141\151\x6e\145\162\x22\40\x63\x6c\141\x73\x73\x3d\x22\x6d\x61\x69\x6e\x2d\143\x6f\156\164\145\x6e\164\55\142\x6f\170\x65\144\42\76\xa\x20\x20\40\x20\40\x20\x20\40\x3c\x6d\x61\x69\x6e\40\151\144\75\42\x6d\x61\x69\x6e\x2d\x63\157\156\x74\x61\x69\156\145\162\x22\76\xa\40\x20\40\40\x20\40\x20\x20\40\40\x20\40\74\x64\x69\x76\x20\143\154\141\163\163\x3d\42\x68\145\x72\157\40\142\147\55\x62\x6f\144\x79\x2d\x65\x78\164\162\141\x2d\154\x69\147\x68\164\42\76\12\40\x20\x20\40\40\x20\40\40\40\40\40\x20\40\40\x20\x20\x3c\144\x69\x76\40\x63\x6c\x61\x73\x73\x3d\42\x68\145\162\157\x2d\151\156\156\145\162\42\x3e\12\x20\x20\40\40\40\x20\40\x20\40\x20\40\40\x20\40\x20\40\40\40\x20\40\74\144\x69\166\40\143\154\x61\163\x73\x3d\x22\x63\157\156\164\145\156\164\x20\143\x6f\156\x74\x65\156\x74\x2d\146\165\154\x6c\42\x3e\xa\x20\40\x20\x20\x20\x20\x20\x20\40\x20\x20\40\40\40\x20\40\40\40\x20\x20\x20\40\40\40\74\144\x69\166\40\x63\154\141\163\x73\x3d\x22\160\x79\55\64\x20\164\x65\x78\x74\x2d\x63\x65\x6e\x74\x65\162\42\x3e\xa"; goto UCtzJ; PjkDC: if ($DB->query($sql[$i])) { goto h4JAv; } ++$e; $error .= $DB->error() . "\74\142\162\x2f\x3e"; goto w_oJk; h4JAv: ++$t; w_oJk: Tn3yz: $i++; goto rhLDf; goto cg9NE; lsASM: $zip->close(); echo "\74\x64\151\166\x20\143\154\x61\x73\163\x3d\x22\144\x69\163\x70\x6c\x61\171\x2d\x31\40\146\x77\55\x62\x6f\154\x64\40\x74\145\170\164\55\145\x6c\145\x67\x61\156\x63\145\42\76\xa\x20\40\40\x20\40\40\x20\x20\x20\x20\40\40\x20\40\x3c\x69\x20\x63\154\141\163\163\x3d\42\146\x61\x20\x66\141\x2d\x64\141\164\x61\142\141\x73\x65\x20\157\x70\x61\143\x69\x74\x79\x2d\65\x30\40\155\145\x2d\x31\42\x3e\74\57\151\76\x20\x53\x75\x63\x63\145\x73\163\12\x20\x20\x20\40\x20\x20\40\x20\40\x20\74\57\144\x69\x76\x3e\12\40\x20\40\40\40\x20\40\x20\40\40\x3c\150\x31\40\x63\x6c\141\163\x73\x3d\x22\x66\167\x2d\x62\157\154\144\x20\155\164\55\x35\x20\155\142\55\62\42\76\347\263\273\xe7\273\237\xe6\x9b\264\xe6\x96\260\346\210\220\xe5\212\237\74\57\150\x31\x3e\xa\x20\x20\x20\x20\x20\40\x20\x20\x20\40\x3c\x62\x72\x2f\x3e\xa\x20\40\40\40\40\x20\40\x20\x20\x20\74\141\x20\x63\154\141\163\x73\x3d\x22\x62\164\x6e\x20\x62\164\156\55\154\147\40\x62\x74\156\55\x61\x6c\x74\x2d\163\x65\x63\x6f\x6e\144\141\162\x79\42\40\x68\162\145\146\x3d\x22\x2f\101\144\155\x69\156\57\165\x70\x64\x61\x74\x65\56\x70\x68\x70\42\x3e\xa\x20\40\40\x20\x20\40\40\40\40\x20\40\40\40\40\x3c\x69\x20\x63\x6c\x61\x73\x73\75\42\x66\141\x20\146\141\55\x61\x72\162\x6f\167\x2d\154\x65\146\164\x20\157\x70\x61\143\151\164\171\x2d\x35\60\40\x6d\x65\x2d\x31\x22\x3e\x3c\x2f\151\x3e\x20\74\142\76\347\xab\213\xe5\215\xb3\350\xbf\224\345\x9b\236\74\x2f\142\x3e\xa\40\x20\x20\x20\x20\x20\40\x20\40\x20\x3c\x2f\x61\76"; aOMQ1: unlink($filename); require "\x2e\56\x2f\103\x6f\155\155\x6f\x6e\x2f\x44\141\x74\x61\142\x61\163\x65\56\x70\x68\x70"; require "\x2e\56\57\x43\x6f\155\155\x6f\156\57\x44\141\164\141\x62\x61\x73\145\137\103\157\156\x66\x69\147\x2e\x70\150\x70"; $dbconfig = array("\x68\157\x73\x74" => $dbconfig["\150\x6f\163\x74"], "\x70\157\x72\x74" => $dbconfig["\x70\157\x72\164"], "\x75\163\145\x72" => $dbconfig["\x75\x73\x65\162"], "\160\x77\x64" => $dbconfig["\160\x77\144"], "\144\142\156\x61\155\x65" => $dbconfig["\144\x62\156\x61\155\145"]); if (!(!defined("\123\121\x4c\x49\124\105") && (!$dbconfig["\165\163\x65\x72"] || !$dbconfig["\x70\167\x64"] || !$dbconfig["\144\x62\156\x61\155\x65"]))) { goto sjUtK; } exit("\xe8\xaf\xb7\xe5\205\x88\xe9\x85\215\xe7\275\256\xe6\x95\xb0\346\x8d\xae\345\xba\x93\xef\xbc\x81"); sjUtK: goto XbEUl; olm1U: $sql = explode("\73", $sql); $t = 0; $e = 0; $error = ''; $i = 0; rhLDf: if (!($i < count($sql))) { goto bfH8V; } if (!(trim($sql[$i]) == '')) { goto AAeuJ; } goto Tn3yz; AAeuJ: goto PjkDC; vnOw9: echo "\74\x64\151\166\40\x63\x6c\141\163\163\75\42\x64\x69\x73\x70\x6c\141\171\x2d\61\x20\x66\x77\55\x62\x6f\x6c\x64\40\x74\x65\x78\x74\55\144\141\156\x67\145\162\x22\76\xa\40\x20\40\40\x20\40\x20\40\x20\40\x20\x20\x20\x20\x20\x20\40\x20\74\x69\40\143\154\x61\x73\163\75\42\146\x61\x20\146\x61\55\x65\170\143\x6c\141\155\141\x74\x69\x6f\156\55\164\162\x69\x61\x6e\x67\x6c\x65\40\x6f\x70\x61\143\151\x74\171\x2d\x35\x30\40\x6d\145\x2d\x31\42\76\x3c\x2f\x69\76\x20\105\162\x72\x6f\162\12\x20\40\40\x20\x20\40\x20\40\x20\40\x20\x20\40\x20\x3c\57\144\x69\166\x3e\12\x20\x20\x20\40\x20\x20\x20\x20\40\x20\40\40\x20\x20\74\x68\x31\x20\x63\154\x61\163\163\x3d\x22\146\x77\55\142\x6f\x6c\144\x20\x6d\x74\x2d\65\40\155\142\55\x32\x22\76\xe7\263\273\xe7\273\237\xe6\233\264\346\x96\260\xe5\244\261\xe8\xb4\245\74\x2f\150\x31\76\12\x20\x20\x20\40\x20\x20\x20\40\x20\40\x20\x20\40\x20\x3c\142\162\57\x3e\xa\40\x20\40\40\x20\x20\40\40\40\40\40\40\x20\40\x3c\141\40\x63\x6c\x61\x73\163\x3d\x22\142\x74\156\40\142\164\156\x2d\154\x67\40\x62\164\156\x2d\x61\154\x74\x2d\x73\145\143\157\156\144\x61\x72\x79\x22\x20\x68\x72\x65\146\75\x22\x2f\x41\x64\155\151\x6e\57\165\160\x64\x61\164\145\56\x70\150\x70\42\x3e\12\40\x20\x20\40\x20\40\x20\40\40\40\40\x20\x20\40\40\40\40\40\x3c\151\x20\x63\154\x61\163\163\x3d\x22\x66\x61\40\x66\141\x2d\141\x72\x72\x6f\167\x2d\x6c\145\x66\x74\x20\157\160\x61\x63\x69\164\x79\55\65\x30\40\x6d\x65\55\x31\x22\x3e\x3c\x2f\151\76\40\x3c\142\76\347\253\213\xe5\x8d\xb3\xe8\277\x94\345\x9b\x9e\74\57\x62\76\xa\x20\40\x20\40\40\x20\x20\40\40\x20\x20\x20\40\x20\74\57\141\x3e"; goto AsUSq; dojDV: W0lQ0: if (!($zip_entry = zip_read($zip))) { goto ixwGw; } $entry_name = zip_entry_name($zip_entry); $entry_size = zip_entry_filesize($zip_entry); if (!zip_entry_open($zip, $zip_entry, "\x72")) { goto uMh1S; } $buf = zip_entry_read($zip_entry, $entry_size); file_put_contents($entry_name, $buf); goto YqOgO; XbEUl: $DB = new DB($dbconfig["\x68\157\163\x74"], $dbconfig["\165\x73\x65\162"], $dbconfig["\160\167\144"], $dbconfig["\x64\142\x6e\x61\x6d\145"], $dbconfig["\x70\157\162\x74"]); $data = json_decode(file_get_contents("\150\164\x74\x70\72\57\x2f\141\165\164\150\x2e\60\x76\67\x2e\x63\156\57\141\160\151\x2f\x49\x6e\x64\145\170\57\x76\x65\162\163\x69\x6f\156\77\141\160\160\x69\144\x3d\64\46\165\x72\x6c\75" . $_SERVER["\x48\x54\x54\120\x5f\110\117\x53\x54"] . "\x26\141\x75\x74\150\143\157\144\145\75" . $config["\x61\x75\x74\150\x63\157\144\x65"] . "\x26\167\145\x62\x6b\145\171\x3d\116\141\x74\150\x61\156\137\x41\165\164\x68"), true); if ($data["\151\x64"] == 1) { goto YYB7m; } echo $data["\155\163\x67"]; goto pKevC; YYB7m: print_r($data); pKevC: $sql = $data["\x75\x70\144\x61\x74\x65\x5f\163\x71\154"]; if (empty($sql)) { goto XhBNl; } goto olm1U; UCtzJ: $config = (include "\x2e\x2e\57\103\x6f\155\155\157\x6e\57\101\165\164\x68\56\160\x68\160"); $data = file_get_contents("\x68\164\164\x70\x3a\57\x2f\141\165\x74\150\56\x30\166\67\x2e\143\156\57\x61\x70\x69\x2f\111\156\144\x65\x78\x2f\166\145\x72\163\x69\x6f\156\77\x61\160\160\151\x64\x3d\64\x26\165\162\x6c\x3d" . $_SERVER["\x48\124\124\x50\x5f\x48\x4f\123\x54"] . "\46\x61\165\x74\x68\x63\157\144\145\75" . $config["\141\x75\164\150\143\157\x64\x65"] . "\x26\x77\145\x62\153\x65\x79\75\x4e\x61\x74\150\141\156\x5f\x41\x75\x74\150"); $data = json_decode($data, true); $update_zip = $data["\165\x70\144\x61\164\145\x5f\x7a\151\160"]; $filename = basename($update_zip); file_put_contents($filename, file_get_contents($update_zip)); $zip = new ZipArchive(); if ($zip->open($filename) === TRUE) { goto h8me7; } $zip = zip_open($filename); if ($zip) { goto dojDV; } goto vnOw9; xKsJJ: echo "\40\x20\40\x20\x20\x20\40\x20\x20\x20\x20\40\x20\40\x20\x20\40\x20\x20\40\40\40\x20\40\74\x2f\x64\x69\x76\76\12\40\x20\40\40\x20\x20\40\40\x20\x20\40\x20\40\x20\40\x20\40\x20\x20\40\74\57\144\151\166\x3e\12\x20\40\x20\40\x20\40\x20\x20\40\x20\x20\x20\40\x20\x20\x20\74\x2f\144\151\x76\76\12\x20\x20\40\x20\40\x20\x20\x20\40\40\40\40\x3c\57\144\151\x76\x3e\12\x20\x20\40\40\40\40\x20\40\x3c\x2f\155\x61\x69\x6e\76\12\40\40\40\40\x3c\x2f\144\x69\166\76\12\x3c\x73\x63\x72\151\x70\x74\40\163\162\x63\75\x22\56\x2e\x2f\x61\x73\x73\x65\x74\x73\57\x61\x64\155\151\x6e\x2f\152\163\x2f\143\157\144\x65\142\141\163\145\x2e\141\160\160\x2e\x6d\x69\x6e\x2d\65\56\x35\56\152\x73\x22\76\74\x2f\x73\x63\162\x69\x70\164\76\12\x3c\x2f\142\157\144\171\x3e\12\74\57\150\164\x6d\154\76";